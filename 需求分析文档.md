## 需求分析文档
### 业务流图
见“业务和数据流图”，其中实线箭头表示业务流。
### 数据流图
见“业务和数据流图”，其中虚线箭头表示数据流。
### 数据字典
1. 用户信息数据库 \
   (1) 用户类型 \
   (2) 用户名
2. 图书信息数据库 \
   (1) ISBN号 \
   (2) 书名 \
   (3) 作者 \
   (4) 关键字 \
   (5) 单价 \
   (6) 库存量
3. 财产及工作日志数据库 \
   (1) 盈利数额 \
   (2) 操作记录
### 功能说明
所有操作都需要将操作记录存入财产及工作日志数据库中。
1. 账号管理子系统\
   (1) 注册/创建：输入用户名和用户类型，输出操作成功提示，将用户名和用户类型存入用户信息数据库中\
   (2) 登录： 输入用户名，输出操作成功提示；
2. 图书管理子系统\
   (1) 图书录入：输入图书的全部信息，输出录入成功提示，将信息存入图书信息数据库；\
   (2) 图书修改：输入修改的信息类型和修改后的信息，输出修改成功提示，将修改信息存入图书信息数据库；\
   (3) 图书采购：输入图书的ISBN号、采购数量和采购时间，输出采购成功提示，更新图书信息数据库中的库存量；\
   (4) 采购信息查询：输入时间段，输出该时间段内的采购信息，从财产及工作日志数据库中获取该时段内的采购信息；
3. 图书销售子系统\
   (1) 图书查询：输入图书的部分信息，输出图书的全部信息，从图书信息数据库中获取该图书的全部信息；\
   (2) 图书购买：输入图书的ISBN号、购买数量，输出购买成功提示，更新图书信息数据库中的库存量；\
   (3) 销售情况查询：输入查询指令，输出销售情况，从财产及工作日志数据库中获取销售情况；
4. 书店经营子系统\
   (1) 盈利查询：输入查询指令，输出盈利情况，从财产及工作日志数据库中获取书店盈利情况；\
   (2) 工作日志查询：输入查询指令，输出工作日志，从财产及工作日志数据库中获取操作信息；
### 用户交互设计
#### 输入部分
1. 注册：Setup <username> <user_type>
2. 创建：Create <username> <user_type>
3. 登录：Login <username>
4. 图书录入： Add <ISBN> <name> <author> <key_words> <price>
5. 修改： Update <type> <updated_string>
6. 采购： Buy <ISBN> <num> <time>
7. 采购信息查询：SearchBuy <begin> <end>
8. 图书查询： SearchBook <type> <search_string>
9. 图书购买： Sold <ISBN> <num>
10. 销售情况：SearchSold
11. 盈利查询：Get_value
12. 工作日志查询：Get_work_diary
#### 输出部分
1. 权限不足： Sorry, you don't have this permission.
2. 操作成功： <operate_name> completed!
3. 日志输出： <the operation input> by <username>
4. 盈利输出： The bookstore has earned <num>.
5. 图书信息输出： <ISBN> <name> <author> <key_words> <price> <num>